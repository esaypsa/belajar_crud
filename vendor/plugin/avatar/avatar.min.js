!function(d,f){function r(t,e){t=t||"",e=e||60;var r,n,i,a,o,c=String(t).toUpperCase().split(" ");return r=1==c.length?c[0]?c[0].charAt(0):"?":c[0].charAt(0)+c[1].charAt(0),d.devicePixelRatio&&(e*=d.devicePixelRatio),n=(("?"==r?72:r.charCodeAt(0))-64)%20,(i=f.createElement("canvas")).width=e,i.height=e,(a=i.getContext("2d")).fillStyle=["#20a8d8","#6610f2","#6f42c1","#e83e8c","#f86c6b","#f8cb00","#ffc107","#4dbd74","#20c997","#17a2b8","#63c2de","#e67e22","#e74c3c","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"][n-1],a.fillRect(0,0,i.width,i.height),a.font=Math.round(i.width/2)+"px Helvetica bold",a.textAlign="center",a.fillStyle="#FFF",a.fillText(r,e/2,e/1.5),o=i.toDataURL(),i=null,o}r.transform=function(){Array.prototype.forEach.call(f.querySelectorAll("img[avatar]"),function(t,e){e=t.getAttribute("avatar"),t.src=r(e,t.getAttribute("width")),t.removeAttribute("avatar"),t.setAttribute("alt",e)})},"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.LetterAvatar=r):(window.LetterAvatar=r,f.addEventListener("DOMContentLoaded",function(t){r.transform()}))}(window,document);